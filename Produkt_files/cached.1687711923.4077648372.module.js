/* File: 
   Compiled at: 2023-10-30 12:32:48 
================================ */
var CMS_GA_Legacy = false;

/* File: https://cdn.solidpixels.com/2.57/template_core/js/modules/gtm/init.js
   Compiled at: 2023-10-30 12:32:48 
================================ */
!function(e,i){"object"==typeof exports?module.exports=i():("object"!=typeof e.Solidpixels&&(e.Solidpixels={}),e.Solidpixels.Analytics=i(),e.Solidpixels.Analytics.init())}(this,function(){return{gaLegacy:window.CMS_GA_Legacy,gaInitialized:!1,gtmInitialized:!1,defaultConsentInitialized:!1,transformConsentValue:e=>e?"granted":"denied",getConsentDefaultValue(e){var i=window.CMS_CONFIG&&window.CMS_CONFIG.cookies&&window.CMS_CONFIG.cookies[e];return this.transformConsentValue(i)},gtag:function(){window.dataLayer.push(arguments)},pushDefaultConsents:function(){if(this.defaultConsentInitialized)return!1;this.defaultConsentInitialized=!0,this.gtag("consent","default",{ad_storage:this.getConsentDefaultValue("mc_allowed"),analytics_storage:this.getConsentDefaultValue("ac_allowed")})},loadGAScriptLegacy:function(){return new Promise(function(e,i){var t,n,o,a,s;t=window,n=document,o="script",t.GoogleAnalyticsObject="ga",t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,a=n.createElement(o),s=n.getElementsByTagName(o)[0],a.onload=e,a.onerror=i,a.async=1,a.src="//www.google-analytics.com/analytics.js",a.id="ga-script",s.parentNode.insertBefore(a,s)})},loadGAScript:function(){var e=this;return new Promise(function(i,t){var n,o,a,s,d,w,l;n=window,o=document,a="script",s="dataLayer",d=window.CMS_GA_Code,n[s]=n[s]||[],e.pushDefaultConsents(),e.gtag("js",new Date),window.CMS_USER_ID?e.gtag("config",window.CMS_GA_Code,{user_id:window.CMS_USER_ID}):e.gtag("config",window.CMS_GA_Code),w=o.getElementsByTagName(a)[0],(l=o.createElement(a)).onload=i,l.onerror=t,l.async=!0,l.src="//www.googletagmanager.com/gtag/js?id="+d,l.id="gtag",w.parentNode.insertBefore(l,w)})},loadGTMScript:function(){var e=this;return new Promise(function(i,t){var n,o,a,s,d,w,l;n=window,o=document,a="script",s="dataLayer",d=window.CMS_GA_GTM,n[s]=n[s]||[],e.pushDefaultConsents(),n[s].push({"gtm.start":new Date().getTime(),event:"gtm.js"}),w=o.getElementsByTagName(a)[0],(l=o.createElement(a)).onload=i,l.onerror=t,l.async=!0,l.src="//www.googletagmanager.com/gtm.js?id="+d,l.id="gtm-script",w.parentNode.insertBefore(l,w)})},update:function(e){if(window.CMS_CONFIG.cookies&&(window.CMS_CONFIG.cookies.ac_allowed=e.ac_allowed,window.CMS_CONFIG.cookies.mc_allowed=e.mc_allowed),this.gaLegacy){if(e.ac_allowed&&!this.gaInitialized)window.CMS_CONFIG.cookies.ac_allowed=e.ac_allowed,this.initGALegacy();else if(!e.ac_allowed&&this.gaInitialized){window.ga("remove");var i=document.getElementById("ga-script");i&&i.remove(),this.gaInitialized=!1}}else this.gaInitialized||this.initGA();this.gtmInitialized||this.initGTM(),this.defaultConsentInitialized&&(this.gtag("consent","update",{ad_storage:this.transformConsentValue(e.mc_allowed),analytics_storage:this.transformConsentValue(e.ac_allowed)}),window.dataLayer.push({event:"cookie_consent_update"}))},initGA:function(){var e=this;if(!window.CMS_GA_Code||!window.CMS_CONFIG.cookies)return!1;this.loadGAScript().then(function(){e.gaInitialized=!0})},initGALegacy:function(){var e=this;window.CMS_GA_Code&&window.CMS_GA_Site&&window.CMS_CONFIG.cookies&&window.CMS_CONFIG.cookies.ac_allowed&&this.loadGAScriptLegacy().then(function(){window.CMS_USER_ID?(window.ga("create",window.CMS_GA_Code,window.CMS_GA_Site,{userId:window.CMS_USER_ID}),window.ga("set","dimension1",window.CMS_USER_ID)):window.ga("create",window.CMS_GA_Code,window.CMS_GA_Site),window.ga("require","displayfeatures"),window.ga("send","pageview"),e.gaInitialized=!0})},initGTM:function(){var e=this;window.CMS_GA_GTM&&window.CMS_CONFIG.cookies&&this.loadGTMScript().then(function(){e.gtmInitialized=!0})},init:function(){this.gaLegacy?this.initGALegacy():this.initGA(),this.initGTM()}}});

